(this["webpackJsonprick-and-morty-app"]=this["webpackJsonprick-and-morty-app"]||[]).push([[0],{26:function(e,t,n){e.exports=n(49)},49:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(21),o=n.n(c),u=r.a.memo((function(e){var t=e.timeStamp;console.log("date");var n=new Date(t),a=n.getDate(),c={0:"Jan",1:"Feb",2:"Mar",3:"Apr",4:"May",5:"Jun",6:"Jul",7:"Aug",8:"Sep",9:"Oct",10:"Nov",11:"Dec"}[n.getMonth()],o=n.getFullYear();return r.a.createElement("span",null,a," ",c," ",o)})),i=Object(a.createContext)({}),l=n(3),s=n(2);function p(){var e=Object(l.a)(["\n  width: 100%;\n"]);return p=function(){return e},e}function d(){var e=Object(l.a)(["\n  color: ",";\n  background: ",";\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  &:hover {\n    background: ",";\n    color: ",";\n  }\n"]);return d=function(){return e},e}function m(){var e=Object(l.a)(["\n  width: 80vw;\n  min-height: 40vw;\n  display: grid;\n  grid-template-columns: repeat(5, 1fr);\n  margin-bottom: 1%;\n\n  @media "," {\n    grid-template-columns: repeat(2, 1fr);\n  }\n"]);return m=function(){return e},e}var f=s.c.div(m(),(function(e){return e.theme.breakpoints.sm})),E=s.c.button(d(),(function(e){return e.theme.deepGreen}),(function(e){return e.theme.lightGreen}),(function(e){return e.theme.deepGreen}),(function(e){return e.theme.lightGreen})),h=s.c.img(p()),b=r.a.memo((function(){console.log("info card");var e=Object(a.useContext)(i),t=e.state,n=e.dispatch;console.log("epiReq",t.episodeReq,"epiData",t.episodeData);var c=(t.showSecondPart?t.characterData.slice(10):t.characterData.slice(0,10)).map((function(e,c){var o,i,l,s=e.name,p=e.status,d=e.species,m=e.image,f=e.created,b=e.id,g=c;return t.showSecondPart&&(g=c+10),(o=f,i=t.startDateQuery,l=t.endDateQuery,o=new Date(o),!(i&&((i=new Date(i)).setHours(0,0,0),o<i))&&!(l&&((l=new Date(l)).setHours(23,59,0),o>l)))?r.a.createElement(E,{onClick:function(){n({type:"SET_ACTIVE_CHAR_POSITION",payload:g})},key:c},r.a.createElement(h,{src:m,alt:s}),r.a.createElement("p",null,s," id: ",b),r.a.createElement("p",null,"created on ",r.a.createElement(u,{timeStamp:f})),r.a.createElement("p",null,"Species: ",d),r.a.createElement("p",null,"Status: ",p)):r.a.createElement(a.Fragment,{key:c})}));return r.a.createElement(f,null,c)}));function g(){var e=Object(l.a)(["\n  width: 50%;\n"]);return g=function(){return e},e}function v(){var e=Object(l.a)(["\n  display: flex;\n  flex-wrap: wrap;\n"]);return v=function(){return e},e}function y(){var e=Object(l.a)(["\n  width: 60%;\n  height: 70%;\n  background: white;\n  text-align: left;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  overflow: auto;\n"]);return y=function(){return e},e}function O(){var e=Object(l.a)(["\n  color: white;\n  background-color: ",";\n  border-radius: 50%;\n  &:hover {\n    color: white;\n    background-color: ",";\n  }\n  font-size: 1.5rem;\n  width: 3rem;\n  height: 3rem;\n  position: absolute;\n  left: 80%;\n  top: 15%;\n  transform: translate(-50%, -50%);\n"]);return O=function(){return e},e}var j=s.c.button(O(),(function(e){return e.theme.pastelOrange}),(function(e){return e.theme.darkOrange})),S=s.c.div(y()),A=s.c.div(v()),D=s.c.img(g()),x=function(){console.log("detail card");var e=Object(a.useContext)(i),t=e.state,n=e.dispatch;if(!(t.activeCharPosition||0===t.activeCharPosition))return r.a.createElement(r.a.Fragment,null);var c=t.characterData[t.activeCharPosition],o=t.episodeData.map((function(e,t){return r.a.createElement(a.Fragment,{key:t},r.a.createElement("p",null,e.episode," ",e.name))})),l=c.name,s=c.status,p=c.species,d=c.image,m=c.created,f=c.id,E=c.gender,h=c.origin;return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null,r.a.createElement(A,null,r.a.createElement(D,{src:d,alt:l}),r.a.createElement("div",null,r.a.createElement("p",null,l," id: ",f),r.a.createElement("p",null,"created on ",r.a.createElement(u,{timeStamp:m})),r.a.createElement("p",null,"Species: ",p),r.a.createElement("p",null,"Status: ",s),r.a.createElement("p",null,"Gender: ",E),r.a.createElement("p",null,"Origin: ",h.name))),r.a.createElement("p",null,"Appeared Episode:"),o),r.a.createElement(j,{onClick:function(){n({type:"SET_ACTIVE_CHAR_POSITION",payload:null})}},"\u2715"))};function C(){var e=Object(l.a)(["\n  color: ",";\n  font-size: 1rem;\n  padding: 5px;\n  &:hover {\n    text-decoration: underline;\n  }\n"]);return C=function(){return e},e}var _=s.c.button(C(),(function(e){var t=e.isActive,n=e.theme;return t?"red":n.milkTea})),w=r.a.memo((function(){console.log("page control");var e=Object(a.useContext)(i),t=e.state,n=e.dispatch,c=Math.ceil(t.dataInfo.count/10),o=2*t.currentApiPage;t.showSecondPart||(o=2*t.currentApiPage-1);for(var u=[],l=function(e){var t=!1;o===e&&(t=!0),u.push(r.a.createElement(_,{isActive:t,key:e,onClick:function(){n({type:"HANDLE_CHANGE_SITE_PAGE_NUM",payload:e})}},e))},s=1;s<=c;s++)l(s);return r.a.createElement("div",null,u)})),P=n(8);function I(){var e=Object(l.a)(["\n  background: white;\n  color: ",";\n  border: "," 1px solid;\n  border-radius: 20px;\n  &:hover {\n    color: white;\n    background-color: ",";\n  }\n  padding: 5px 10px;\n  margin-left: 7px;\n"]);return I=function(){return e},e}function k(){var e=Object(l.a)(["\n  font-size: 14px;\n  padding: 2px;\n"]);return k=function(){return e},e}function T(){var e=Object(l.a)(["\n  display: inline;\n"]);return T=function(){return e},e}function Q(){var e=Object(l.a)(["\n  margin: 1% auto;\n  & > label {\n    margin-left: 7px;\n  }\n"]);return Q=function(){return e},e}var R=s.c.div(Q()),F=s.c.form(T()),U=s.c.input(k()),N=s.c.button(I(),(function(e){return e.theme.pastelOrange}),(function(e){return e.theme.pastelOrange}),(function(e){return e.theme.pastelOrange})),H=function(){console.log("Query Input");var e=Object(a.useContext)(i),t=e.state,n=e.dispatch,c=Object(a.useState)(""),o=Object(P.a)(c,2),u=o[0],l=o[1],s=function(e){switch(e.target.name){case"speciesInput":l(e.target.value);break;case"statusInput":n({type:"SET_STATUS_QUERY",payload:e.target.value});break;case"startDateInput":n({type:"SET_START_DATE_QUERY",payload:e.target.value});break;case"endDateInput":n({type:"SET_END_DATE_QUERY",payload:e.target.value});break;default:return}};return r.a.createElement(R,null,r.a.createElement(F,{onSubmit:function(e){!function(e){e.preventDefault();var a=e.target.speciesInput.value.trim();a!==t.speciesQuery&&n({type:"SET_SPECIES_QUERY",payload:a})}(e)}},r.a.createElement("label",{htmlFor:"speciesInput"},"Species: "),r.a.createElement(U,{type:"text",id:"speciesInput",name:"speciesInput",placeholder:"Press enter to submit",value:u,onChange:function(e){return s(e)}})),r.a.createElement("label",{htmlFor:"statusInput"},"Status: "),r.a.createElement("select",{id:"statusInput",name:"statusInput",onChange:function(e){return s(e)}},r.a.createElement("option",{selected:t.statusQuery},t.statusQuery&&"".concat(t.statusQuery)),r.a.createElement("option",{value:""},"All"),r.a.createElement("option",{value:"alive"},"Alive"),r.a.createElement("option",{value:"dead"},"Dead"),r.a.createElement("option",{value:"unknown"},"Unknown")),r.a.createElement("label",{htmlFor:"startDateInput"},"Filter characters by created date:"," "),"from"," ",r.a.createElement("input",{type:"date",name:"startDateInput",id:"startDateInput",value:t.startDateQuery,onChange:function(e){return s(e)}})," ","to",r.a.createElement("input",{type:"date",name:"endDateInput",id:"endDateInput",value:t.endDateQuery,onChange:function(e){return s(e)}}),r.a.createElement(N,{onClick:function(){n({type:"CLEAR_ALL_FILTER"}),l("")}},"CLEAR"))};function L(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n"]);return L=function(){return e},e}var G=s.c.div(L()),Y=n(5),M=n.n(Y),z=n(1),B=n(7),V={characterData:[],dataInfo:{},episodeData:[],error:"",currentApiPage:1,showSecondPart:!1,activeCharPosition:null,speciesQuery:"",statusQuery:"",startDateQuery:"",endDateQuery:""},J=function(e,t){switch(t.type){case"RECIEVE_CHAR_DATA":return Object(z.a)(Object(z.a)({},e),{},{characterData:t.payload.results,dataInfo:t.payload.info,error:""});case"HANDLE_ERROR":return Object(z.a)(Object(z.a)({},e),{},{error:t.payload,characterData:[],episodeData:[],dataInfo:{}});case"HANDLE_CHANGE_SITE_PAGE_NUM":var n=t.payload,a=Math.ceil(n/2);return a!==e.currentApiPage?t.payload%2===0?Object(z.a)(Object(z.a)({},e),{},{currentApiPage:a,showSecondPart:!0,activeCharPosition:null}):Object(z.a)(Object(z.a)({},e),{},{currentApiPage:a,showSecondPart:!1,activeCharPosition:null}):n%2===0?Object(z.a)(Object(z.a)({},e),{},{showSecondPart:!0,activeCharPosition:null}):Object(z.a)(Object(z.a)({},e),{},{showSecondPart:!1});case"SET_ACTIVE_CHAR_POSITION":return Object(z.a)(Object(z.a)({},e),{},{activeCharPosition:t.payload});case"RECIEVE_EPISODE_DATA":return Object(z.a)(Object(z.a)({},e),{},{episodeData:t.payload});case"SET_SPECIES_QUERY":return console.log("SECIESQUERY",t.payload),Object(z.a)(Object(z.a)({},e),{},{speciesQuery:t.payload,currentApiPage:1,showSecondPart:!1,activeCharPosition:null});case"SET_STATUS_QUERY":return console.log("status query",t.payload),Object(z.a)(Object(z.a)({},e),{},{statusQuery:t.payload,currentApiPage:1,showSecondPart:!1,activeCharPosition:null});case"SET_START_DATE_QUERY":return Object(z.a)(Object(z.a)({},e),{},{startDateQuery:t.payload});case"SET_END_DATE_QUERY":return Object(z.a)(Object(z.a)({},e),{},{endDateQuery:t.payload});case"CLEAR_ALL_FILTER":return Object(z.a)(Object(z.a)({},e),{},{speciesQuery:"",statusQuery:"",startDateQuery:"",endDateQuery:"",activeCharPosition:null});default:return e}},q=function(){return Object(a.useReducer)(J,V)},W=n(25),$=n.n(W),K=function(){var e=Object(B.a)(M.a.mark((function e(t){var n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.get(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X={pastelOrange:"#EE6C4D",darkOrange:"#B0361E",lightGreen:"#C0CFC3",deepGreen:"#4B554F",blue:"#a8dadc",paleBlue:"#f1faee",milkTea:"#8e7054",fontSizes:{sm:"10px",md:"15px",lg:"25px"},breakpoints:{sm:"(max-width: 540px)",md:"(max-width: 720px)",lg:"(max-width: 960px)"}};function Z(){var e=Object(l.a)(['\n    * {\n        margin: 0;\n        padding:0;\n        box-sizing: border-box;\n    }\n\n    body {\n        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen",\n        "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue",\n        sans-serif;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        box-sizing: border-box; \n    }\n\n    button {\n        border: none;\n        outline:none;\n        background:none;\n        cursor:pointer;\n    }\n\n    input{\n        border-radius: 5px;\n        box-shadow: 0 2px 5px ',", 0 -2px 5px ",";\n        border: 1px solid ",";\n        margin: 5px;\n    }\n"]);return Z=function(){return e},e}var ee=Object(s.b)(Z(),X.blue,X.paleBlue,X.blue),te=function(e){var t=e.children,n=q(),c=Object(P.a)(n,2),o=c[0],u=c[1],l=function(){var e=Object(B.a)(M.a.mark((function e(){var t,n,a,r,c=arguments;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",n=c.length>1&&void 0!==c[1]?c[1]:"character",e.prev=2,e.next=5,K("https://rickandmortyapi.com/api/".concat(n,"/").concat(t));case 5:if(a=e.sent,console.log(a),!a.error){e.next=10;break}return console.log("Err returned from API:",a.error),e.abrupt("return",u({type:"HANDLE_ERROR",payload:a.error}));case 10:"character"===n?u({type:"RECIEVE_CHAR_DATA",payload:{results:a.results,info:a.info}}):(r=a,a.length||(r=[Object(z.a)({},a)]),u({type:"RECIEVE_EPISODE_DATA",payload:r})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log("Err from fetching",e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){l()}),[]),Object(a.useEffect)((function(){console.log("?page=".concat(o.currentApiPage,"&species=").concat(o.speciesQuery,"&status=").concat(o.statusQuery)),l("?page=".concat(o.currentApiPage,"&species=").concat(o.speciesQuery,"&status=").concat(o.statusQuery))}),[o.currentApiPage,o.speciesQuery,o.statusQuery]),Object(a.useEffect)((function(){var e=o.activeCharPosition;if(e||0===e){var t=o.characterData[e].episode,n=t.map((function(e,t){for(var n=1,a=e.length-1;a>=0;a--)if("/"===e[a]){n=e.slice(a+1);break}return n})).join();l("".concat(n),"episode")}}),[o.activeCharPosition]),r.a.createElement(i.Provider,{value:{state:o,dispatch:u}},r.a.createElement(s.a,{theme:X},r.a.createElement(ee,null),t))};var ne=function(){return console.log("APP"),r.a.createElement(te,null,r.a.createElement(G,null,r.a.createElement(H,null),r.a.createElement(b,null),r.a.createElement(x,null),r.a.createElement(w,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.d9a532e7.chunk.js.map